-- phpMyAdmin SQL Dump
-- version 4.1.14
-- http://www.phpmyadmin.net
--
-- Client :  127.0.0.1
-- Généré le :  Mer 02 Mars 2016 à 16:08
-- Version du serveur :  5.6.17
-- Version de PHP :  5.5.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Base de données :  `sesame`
--

-- --------------------------------------------------------

--
-- Structure de la table `candidat`
--

CREATE TABLE IF NOT EXISTS `candidat` (
  `numeroCANDIDAT` int(11) NOT NULL,
  `nom` varchar(50) DEFAULT NULL,
  `prenom` varchar(50) DEFAULT NULL,
  `tel` varchar(50) DEFAULT NULL,
  `mail` varchar(50) DEFAULT NULL,
  `mdp` varchar(50) DEFAULT NULL,
  `LV1` int(11) DEFAULT NULL,
  `LV2` int(11) DEFAULT NULL,
  `DateDeNaissance` datetime DEFAULT NULL,
  `Adresse` longtext,
  `CodePostal` int(11) DEFAULT NULL,
  `pays` varchar(50) DEFAULT NULL,
  `DernièreConnexion` datetime DEFAULT NULL,
  PRIMARY KEY (`numeroCANDIDAT`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Structure de la table `candidat_questionnaire`
--

CREATE TABLE IF NOT EXISTS `candidat_questionnaire` (
  `CANDIDAT_numeroCANDIDAT` int(11) NOT NULL,
  `QUESTIONNAIRE_numeroQUESTIONNAIRE` int(11) NOT NULL,
  PRIMARY KEY (`CANDIDAT_numeroCANDIDAT`,`QUESTIONNAIRE_numeroQUESTIONNAIRE`),
  KEY `fk_CANDIDAT_has_QUESTIONNAIRE_QUESTIONNAIRE1_idx` (`QUESTIONNAIRE_numeroQUESTIONNAIRE`),
  KEY `fk_CANDIDAT_has_QUESTIONNAIRE_CANDIDAT_idx` (`CANDIDAT_numeroCANDIDAT`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Structure de la table `difficulte`
--

CREATE TABLE IF NOT EXISTS `difficulte` (
  `numeroDIFFICULTE` int(11) NOT NULL,
  `nom` varchar(50) DEFAULT NULL,
  `QUESTIONNAIRE_numeroQUESTIONNAIRE` int(11) NOT NULL,
  `QUESTIONNAIRE_DIFFICULTE_numeroDIFFICULTE` int(11) NOT NULL,
  `QUESTIONNAIRE_DISCIPLINE_numeroDISCIPLINE` int(11) NOT NULL,
  `QUESTION_numeroQUESTION` int(11) NOT NULL,
  `QUESTION_DIFFICULTE_numeroDIFFICULTE` int(11) NOT NULL,
  `QUESTION_REPONSE_numeroREPONSE` int(11) NOT NULL,
  PRIMARY KEY (`numeroDIFFICULTE`,`QUESTIONNAIRE_numeroQUESTIONNAIRE`,`QUESTIONNAIRE_DIFFICULTE_numeroDIFFICULTE`,`QUESTIONNAIRE_DISCIPLINE_numeroDISCIPLINE`,`QUESTION_numeroQUESTION`,`QUESTION_DIFFICULTE_numeroDIFFICULTE`,`QUESTION_REPONSE_numeroREPONSE`),
  KEY `fk_DIFFICULTE_QUESTIONNAIRE1_idx` (`QUESTIONNAIRE_numeroQUESTIONNAIRE`,`QUESTIONNAIRE_DIFFICULTE_numeroDIFFICULTE`,`QUESTIONNAIRE_DISCIPLINE_numeroDISCIPLINE`),
  KEY `fk_DIFFICULTE_QUESTION1_idx` (`QUESTION_numeroQUESTION`,`QUESTION_DIFFICULTE_numeroDIFFICULTE`,`QUESTION_REPONSE_numeroREPONSE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Structure de la table `discipline`
--

CREATE TABLE IF NOT EXISTS `discipline` (
  `numeroDISCIPLINE` int(11) NOT NULL,
  `nom` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`numeroDISCIPLINE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Contenu de la table `discipline`
--

INSERT INTO `discipline` (`numeroDISCIPLINE`, `nom`) VALUES
(1, 'Anglais');

-- --------------------------------------------------------

--
-- Structure de la table `question`
--

CREATE TABLE IF NOT EXISTS `question` (
  `numeroQUESTION` int(11) NOT NULL,
  `libelle` longtext,
  `DIFFICULTE_numeroDIFFICULTE` int(11) NOT NULL,
  `REPONSE_numeroREPONSE` int(11) NOT NULL,
  PRIMARY KEY (`numeroQUESTION`,`DIFFICULTE_numeroDIFFICULTE`,`REPONSE_numeroREPONSE`),
  KEY `fk_QUESTION_REPONSE1_idx` (`REPONSE_numeroREPONSE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Structure de la table `questionnaire`
--

CREATE TABLE IF NOT EXISTS `questionnaire` (
  `numeroQUESTIONNAIRE` int(11) NOT NULL,
  `datecreation` varchar(50) DEFAULT NULL,
  `DIFFICULTE_numeroDIFFICULTE` int(11) NOT NULL,
  `DISCIPLINE_numeroDISCIPLINE` int(11) NOT NULL,
  `nomQUESTIONNAIRE` varchar(50) DEFAULT NULL,
  `nomCreateur` varchar(50) DEFAULT NULL,
  `DISCIPLINE_numeroDISCIPLINE1` int(11) NOT NULL,
  PRIMARY KEY (`numeroQUESTIONNAIRE`,`DIFFICULTE_numeroDIFFICULTE`,`DISCIPLINE_numeroDISCIPLINE`),
  KEY `fk_QUESTIONNAIRE_DISCIPLINE1_idx` (`DISCIPLINE_numeroDISCIPLINE1`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Structure de la table `questionnaire_question`
--

CREATE TABLE IF NOT EXISTS `questionnaire_question` (
  `QUESTIONNAIRE_numeroQUESTIONNAIRE` int(11) NOT NULL,
  `QUESTIONNAIRE_DIFFICULTE_numeroDIFFICULTE` int(11) NOT NULL,
  `QUESTIONNAIRE_DISCIPLINE_numeroDISCIPLINE` int(11) NOT NULL,
  `QUESTION_numeroQUESTION` int(11) NOT NULL,
  `QUESTION_DIFFICULTE_numeroDIFFICULTE` int(11) NOT NULL,
  PRIMARY KEY (`QUESTIONNAIRE_numeroQUESTIONNAIRE`,`QUESTIONNAIRE_DIFFICULTE_numeroDIFFICULTE`,`QUESTIONNAIRE_DISCIPLINE_numeroDISCIPLINE`,`QUESTION_numeroQUESTION`,`QUESTION_DIFFICULTE_numeroDIFFICULTE`),
  KEY `fk_QUESTIONNAIRE_has_QUESTION_QUESTION1_idx` (`QUESTION_numeroQUESTION`,`QUESTION_DIFFICULTE_numeroDIFFICULTE`),
  KEY `fk_QUESTIONNAIRE_has_QUESTION_QUESTIONNAIRE1_idx` (`QUESTIONNAIRE_numeroQUESTIONNAIRE`,`QUESTIONNAIRE_DIFFICULTE_numeroDIFFICULTE`,`QUESTIONNAIRE_DISCIPLINE_numeroDISCIPLINE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Structure de la table `reponse`
--

CREATE TABLE IF NOT EXISTS `reponse` (
  `numeroREPONSE` int(11) NOT NULL,
  `libelle` longtext,
  `ReponseJuste` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`numeroREPONSE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Contraintes pour les tables exportées
--

--
-- Contraintes pour la table `candidat_questionnaire`
--
ALTER TABLE `candidat_questionnaire`
  ADD CONSTRAINT `fk_CANDIDAT_has_QUESTIONNAIRE_CANDIDAT` FOREIGN KEY (`CANDIDAT_numeroCANDIDAT`) REFERENCES `candidat` (`numeroCANDIDAT`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `fk_CANDIDAT_has_QUESTIONNAIRE_QUESTIONNAIRE1` FOREIGN KEY (`QUESTIONNAIRE_numeroQUESTIONNAIRE`) REFERENCES `questionnaire` (`numeroQUESTIONNAIRE`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Contraintes pour la table `difficulte`
--
ALTER TABLE `difficulte`
  ADD CONSTRAINT `fk_DIFFICULTE_QUESTIONNAIRE1` FOREIGN KEY (`QUESTIONNAIRE_numeroQUESTIONNAIRE`, `QUESTIONNAIRE_DIFFICULTE_numeroDIFFICULTE`, `QUESTIONNAIRE_DISCIPLINE_numeroDISCIPLINE`) REFERENCES `questionnaire` (`numeroQUESTIONNAIRE`, `DIFFICULTE_numeroDIFFICULTE`, `DISCIPLINE_numeroDISCIPLINE`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `fk_DIFFICULTE_QUESTION1` FOREIGN KEY (`QUESTION_numeroQUESTION`, `QUESTION_DIFFICULTE_numeroDIFFICULTE`, `QUESTION_REPONSE_numeroREPONSE`) REFERENCES `question` (`numeroQUESTION`, `DIFFICULTE_numeroDIFFICULTE`, `REPONSE_numeroREPONSE`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Contraintes pour la table `question`
--
ALTER TABLE `question`
  ADD CONSTRAINT `fk_QUESTION_REPONSE1` FOREIGN KEY (`REPONSE_numeroREPONSE`) REFERENCES `reponse` (`numeroREPONSE`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Contraintes pour la table `questionnaire`
--
ALTER TABLE `questionnaire`
  ADD CONSTRAINT `fk_QUESTIONNAIRE_DISCIPLINE1` FOREIGN KEY (`DISCIPLINE_numeroDISCIPLINE1`) REFERENCES `discipline` (`numeroDISCIPLINE`) ON DELETE NO ACTION ON UPDATE NO ACTION;

--
-- Contraintes pour la table `questionnaire_question`
--
ALTER TABLE `questionnaire_question`
  ADD CONSTRAINT `fk_QUESTIONNAIRE_has_QUESTION_QUESTIONNAIRE1` FOREIGN KEY (`QUESTIONNAIRE_numeroQUESTIONNAIRE`, `QUESTIONNAIRE_DIFFICULTE_numeroDIFFICULTE`, `QUESTIONNAIRE_DISCIPLINE_numeroDISCIPLINE`) REFERENCES `questionnaire` (`numeroQUESTIONNAIRE`, `DIFFICULTE_numeroDIFFICULTE`, `DISCIPLINE_numeroDISCIPLINE`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  ADD CONSTRAINT `fk_QUESTIONNAIRE_has_QUESTION_QUESTION1` FOREIGN KEY (`QUESTION_numeroQUESTION`, `QUESTION_DIFFICULTE_numeroDIFFICULTE`) REFERENCES `question` (`numeroQUESTION`, `DIFFICULTE_numeroDIFFICULTE`) ON DELETE NO ACTION ON UPDATE NO ACTION;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
